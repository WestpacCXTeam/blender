/***************************************************************************************************************************************************************
 *
 * Counter
 *
 **************************************************************************************************************************************************************/


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Dependencies
//--------------------------------------------------------------------------------------------------------------------------------------------------------------


(function CounterApp(App) {

	var module = {};

	//------------------------------------------------------------------------------------------------------------------------------------------------------------
	// Module add method
	//------------------------------------------------------------------------------------------------------------------------------------------------------------
	module.add = function counterPost() {
		App.debugging( 'counter: adding new instance', 'report' );

		var counter = 0;

		Fs.readFile( App.LOG , function(err, data) {
			if( err ) {
				throw err;
			}

			counter = parseInt( data ) + 1;

			Fs.writeFile( App.LOG, counter, function(err) {
				if( err ) {
					throw err;
				}

				App.debugging( 'counter: added', 'report' );
			});
		});
	};


	App.counter = module;


}(App));