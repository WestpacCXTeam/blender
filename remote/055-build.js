/***************************************************************************************************************************************************************
 *
 * Insert build tool
 *
 **************************************************************************************************************************************************************/


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Dependencies
//--------------------------------------------------------------------------------------------------------------------------------------------------------------


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Module
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
Blender.build = (() => {

	return {

//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Module init method
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
		init: () => {
			Blender.debugging.report(`Build: Initiating`);
		},


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Returns json object of a specific module.json
//
// @param   module  [sting]  ID of module
//
// @return  [object]  Json object of module.json
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
		get: () => {
			Blender.debugging.report(`Build: Getting build`);

			const _includeOriginalLess  = Blender.selectedModules.includeLess;
			const _includeOriginalJS  = Blender.selectedModules.includeUnminifiedJS;
			const _includeSVG  = Blender.selectedModules.includeSVG;

			if( _includeOriginalLess || _includeOriginalJS || _includeSVG ) {
				Blender.zip.queuing(`build`, false); //build queue is done

				Blender.zip.addBulk( Blender.TEMPPATH, [`Gruntfile.js`, `package.json`], `/` );
			}
			else {
				Blender.zip.queuing(`build`, false); //build queue is done
			}
		},

	}

})();